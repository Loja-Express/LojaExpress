<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loja Express</title>
<style>
  body { font-family: Arial, sans-serif; background:#fff8e7; margin:0; padding:0; }
  header { background:#ffcc00; color:#4b0082; text-align:center; padding:10px; font-weight:bold; font-size:20px; }

  #produtosContainer { display: table; width: 100%; border-collapse: collapse; }
  .produto { display: table-row; border:2px solid #4b0082; margin-bottom:5px; background:#fff; }
  .produto div { display: table-cell; vertical-align: top; padding:5px; }
  .produto img { width:100px; height:100px; }
  .produto h3 { color:#4b0082; margin:0 0 5px 0; }
  .produto p { margin:0 0 5px 0; font-size:12px; }

  .produto button { background:#4b0082; color:#fff; border:none; padding:5px; cursor:pointer; }

  #carrinho { background:#eee; padding:10px; margin:5px; border-top:3px solid #4b0082; }
  #itensCarrinho { list-style:none; padding:0; margin:0; }
  #itensCarrinho li { padding:5px; margin:2px 0; background:#fff; border:1px solid #ccc; }
  .remover { background:red; color:#fff; border:none; padding:2px 5px; cursor:pointer; }
  #finalizar { background:#ffcc00; color:#4b0082; border:none; padding:10px; width:100%; cursor:pointer; }

  #pagamento { display:none; background:#f7e7ff; padding:10px; margin:5px; border-top:3px solid #4b0082; border-radius:6px; }
</style>
</head>
<body>

<header>ðŸ›’ Loja Express</header>

<div id="produtosContainer"></div>

<div id="carrinho">
  <h3>ðŸ›’ Carrinho</h3>
  <ul id="itensCarrinho"></ul>
  <p><strong>Total: R$ <span id="total">0.00</span></strong></p>
  <button id="finalizar">Finalizar Compra</button>
</div>

<div id="pagamento">
  <h3>ðŸ’³ Pagamento Pix</h3>
  <img src="img-loja/QRcode.jpg" width="150" height="150">
  <p><strong>DestinatÃ¡rio:</strong> Eduarda Luiza da Silva | <strong>InstituiÃ§Ã£o:</strong> BCO SANTANDER (BRASIL) S.A.</p>
  <p><strong>Chave Pix (e-mail):</strong> <span id="pixKey">Eluiza67042@gmail.com</span></p>
  <button onclick="copyPix()">ðŸ“‹ Copiar Pix</button>
  <button onclick="confirmPayment()">âœ… JÃ¡ paguei</button>
  <audio id="somPagamento" src="img-loja/Ring1.mp3"></audio>
</div>

<script>
var produtos = [
  {nome:"Cabo carregador", preco:15, desc:"Cabo de carregador disponÃ­vel nos modelos:<br><strong>Tipo C e Lightning (iPhone)</strong>.<br>Uma ponta USB, outra ponta carregador.<br><em>NÃ£o acompanha fonte.</em>"},
  {nome:"Fone de Ouvido Bluetooth", preco:20, desc:"Fone de ouvido sem fio com cancelamento de ruÃ­do e microfone intra-auricular.<br>Autonomia de atÃ© <strong>4 horas</strong>.<br>Acompanha: par de fones + caixa de carregamento + cabo USB."},
  {nome:"Guarda-Chuva", preco:35, desc:"Guarda-chuva compacto e reforÃ§ado.<br>Cabe em sua bolsa.<br>(Cores conforme disponibilidade)"},
  {nome:"Power Bank (Carregador portÃ¡til)", preco:40, desc:"Carregador portÃ¡til Power Bank 10000mah.<br>3 saÃ­das: <strong>Tipo C, Lightning (iPhone) e V8 (micro USB)</strong>."},
  {nome:"Kit Fonte + Cabo Carregador", preco:25, desc:"Kit Carregador completo 1.2A:<br><strong>Fonte + Cabo de carregamento</strong>.<br>DisponÃ­vel para <strong>Tipo C e Lightning (iPhone)</strong>."},
  {nome:"Cabo carregador USB 3 em 1", preco:20, desc:"Cabo 3 em 1 com conectores:<br><strong>Tipo-C, Lightning (iPhone) e Micro USB (V8)</strong>.<br>Permite carregar vÃ¡rios dispositivos com um Ãºnico cabo."},
  {nome:"Fone com microfone", preco:10, desc:"Fone com fio e microfone.<br>Entrada P2."}
];

var cart = {};
var container = document.getElementById('produtosContainer');

for(var i=0;i<produtos.length;i++){
  var p = produtos[i];
  var div = document.createElement('div');
  div.className='produto';
  div.innerHTML = '<div><img src="img-loja/Foto'+(i+1)+'.jpg"></div>'+
                  '<div><h3>'+p.nome+'</h3><p>'+p.desc+'</p>'+
                  '<button onclick="addToCart(\''+p.nome+'\','+p.preco+')">Adicionar - R$'+p.preco+'</button></div>';
  container.appendChild(div);
}

function playSound(){
  var som = document.getElementById('somPagamento');
  if(som) som.play().catch(()=>{}); // evita erro caso o Ã¡udio nÃ£o carregue
}

function addToCart(nome, preco){
  if(cart[nome]) cart[nome].qtd++;
  else cart[nome]={price:preco,qtd:1};
  renderCart();
}

function removeFromCart(nome){
  if(cart[nome]){
    cart[nome].qtd--;
    if(cart[nome].qtd<=0) delete cart[nome];
  }
  renderCart();
}

function renderCart(){
  var ul = document.getElementById('itensCarrinho');
  ul.innerHTML='';
  var total=0;
  for(var p in cart){
    var li = document.createElement('li');
    li.innerHTML = p+' x'+cart[p].qtd+' - R$'+(cart[p].price*cart[p].qtd).toFixed(2)+
      ' <button class="remover" onclick="removeFromCart(\''+p+'\')">X</button>';
    ul.appendChild(li);
    total+=cart[p].price*cart[p].qtd;
  }
  document.getElementById('total').innerText=total.toFixed(2);
}

document.getElementById('finalizar').onclick=function(){
  if(Object.keys(cart).length==0){ alert("Carrinho vazio!"); return; }
  document.getElementById('pagamento').style.display='block';
};

function copyPix(){
  var pix = document.getElementById('pixKey').innerText;
  var el = document.createElement('textarea'); 
  el.value=pix; 
  document.body.appendChild(el); 
  el.select();
  document.execCommand('copy'); 
  document.body.removeChild(el);
  playSound();
  alert("Chave Pix copiada!");
}

function confirmPayment(){
  playSound();
  var msg="ðŸ›’ Pedido Loja Express:%0A";
  var total=0;
  for(var p in cart){
    msg+=p+' x'+cart[p].qtd+' - R$'+(cart[p].price*cart[p].qtd).toFixed(2)+'%0A';
    total+=cart[p].price*cart[p].qtd;
  }
  msg+='Total: R$'+total.toFixed(2);
  window.open('https://wa.me/5511970424524?text='+msg,'_blank');
  cart={};
  renderCart();
  document.getElementById('pagamento').style.display='none';
}
</script>

</body>
</html>
